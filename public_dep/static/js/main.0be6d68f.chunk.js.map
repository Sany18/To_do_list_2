{"version":3,"sources":["config/routes-helper.js","components/task-form.js","components/event.js","components/buttons.js","components/view-tasks.js","components/clock.js","components/login.js","index.js"],"names":["API","routes","root","tasksGet","taskCreatePost","taskShowGet","taskUpdatePut","taskUpdatePatch","taskDelete","deleteSelected","statusSwitchGet","oauthTokenPOST","Task","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","emptyTaskKey","isNaN","parseFloat","taskKey","isFinite","getDateNow","date","Date","cz","getFullYear","getMonth","getDate","i","state","isLoading","error","tasks","value","id","title","theme","priority","due_date","handleChange","bind","assertThisInitialized","_this2","myInit","localStorage","getItem","fetch","then","response","json","data","setState","task","objectSpread","catch","event","val","target","defineProperty","name","react_default","a","createElement","defaultValue","onChange","type","min","ButtonGroup","buttons","params","document","getElementById","innerHTML","toString","Component","Event","Alert","bsStyle","Buttons","resp","ajaxTo","address","body","method","headers","Content-Type","getTokensBody","console","log","access_token","setItem","ReactDOM","render","components_event","refreshTasks","grant_type","JSON","stringify","openNewTaskModal","openTaskInModal","hideModal","hidden","container","appendChild","task_form","elem","firstChild","unmountComponentAtNode","saveTask","updateTask","login","deleteTask","getButton","Button","onClick","removeItem","bsSize","Article","isOpen","taps","getTasks","handleClick","cutDate","d","substr","length","map","className","key","Clock","toLocaleTimeString","toLocaleDateString","Login","email","password","Jumbotron","Form","FormGroup","controlId","ControlLabel","FormControl","placeholder","Main","clock","view_tasks","setInterval","ReactDom"],"mappings":"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","file":"static/js/main.0be6d68f.chunk.js","sourcesContent":["const API = 'http://localhost:3000';\n\nlet routes = {\n\troot: API,\n\ttasksGet: API + '/tasks',\n\ttaskCreatePost: API + '/tasks/',\n\ttaskShowGet: API + '/tasks/',\n\ttaskUpdatePut: API + '/tasks/',\n\ttaskUpdatePatch: API + '/tasks/',\n\ttaskDelete: API + '/tasks/',\n\tdeleteSelected: API + '/task/delete_selected/',\n\tstatusSwitchGet: API + '/task/status_switch/',\n\toauthTokenPOST: API +  '/oauth/token/'\n}\n\nexport default routes;","import React, {Component} from 'react';\nimport routes from '../config/routes-helper';\nimport Buttons from './buttons';\nimport { ButtonGroup } from 'react-bootstrap';\n\nclass Task extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoading: false,\n\t\t\terror: null,\n\t\t\ttasks: [],\n\t\t\ttaskKey: this.props.taskKey,\n\t\t\tvalue: {\n\t\t\t\tid: '',\n\t\t\t\ttitle: '',\n\t\t\t\ttheme: '',\n\t\t\t\tpriority: 0,\n\t\t\t\tdue_date: ''\n\t\t\t}\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.emptyTaskKey()) {\n\t\tlet myInit = 'access_token=' + localStorage.getItem('access_token')\n\t\tfetch(routes.tasksGet + '?' + myInit)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({tasks: data, isLoading: true}))\n\t\t\t.then(data => {\n\t\t\t\tlet task = this.state.tasks[this.state.taskKey];\n\t\t\t\tthis.setState({ value: { ...this.state.value, title:  task.title} });\n\t\t\t\tthis.setState({ value: { ...this.state.value, theme:  task.theme} });\n\t\t\t\tthis.setState({ value: { ...this.state.value, due_date:  task.due_date} });\n\t\t\t\tthis.setState({ value: { ...this.state.value, id:  task.id} });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ error }))\n\t\t}\n\t}\n\n\temptyTaskKey = () => {\n\t\treturn !isNaN(parseFloat(this.props.taskKey)) && isFinite(this.props.taskKey);\n\t}\n\n\thandleChange(event) {\n\t\tlet val = event.target.value\n\t\tthis.setState({ value: { ...this.state.value, [event.target.name]:  val} });\n\t}\n\n\tgetDateNow = () => {\n\t\tlet date = new Date()\n\t\treturn (cz(date.getFullYear()) + \"-\" + cz(date.getMonth()) + \"-\" + cz(date.getDate()))\n\n\t\tfunction cz(i) {\n\t\t\tif (i === null) return 'x'\n\t\t\tif (i<10) {return '0' + i} else return i\n\t\t}\n\t}\n\n\trender() {\n\t\tlet task = this.state.tasks[this.state.taskKey] || this.state.value\n\t\tif (this.state.isLoading || !this.emptyTaskKey()) {\n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t\t<label>Theme</label>\n\t\t\t\t\t<input defaultValue={task.title} name=\"title\" onChange={this.handleChange}/> \n\t\t\t\t\t<label>Task</label>\n\t\t\t\t\t<textarea defaultValue={task.theme} name=\"theme\" onChange={this.handleChange}/>\n\t\t\t\t\t<label>Due date</label>\n\t\t\t\t\t<input type=\"date\" defaultValue={task.due_date || this.getDateNow()} min={this.getDateNow()} name=\"due_date\" onChange={this.handleChange}/>\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t{task.id ? <Buttons type='deleteTask' params={task.id}/> : ''}\n\t\t\t\t\t\t<Buttons type='closeTask'/>\n\t\t\t\t\t\t{+this.state.value.id ?\n\t\t\t\t\t\t<Buttons type='updateTask' params={this.state.value}/> :\n\t\t\t\t\t\t<Buttons type='saveTask' params={this.state.value}/>}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t)\n\t\t}\n\t\tif (this.state.error) {\n\t\t\tdocument.getElementById('notice').innerHTML = this.state.error.toString()\n\t\t\treturn(null)\n\t\t} else {\n\t\t\treturn(null)\n\t\t}\n\t}\n}\n\nexport default Task;","import React, {Component} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Alert } from 'react-bootstrap';\n\nclass Event extends Component {\n\tstate = {\n\t\terror: null,\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<div id='event'>\n\t\t\t\t<Alert bsStyle=\"warning\">\n\t\t\t\t\t<strong>{this.props.val}</strong>\n\t\t\t\t</Alert>\n\t\t\t</div>\n\t\t\t)\n\t}\t\t\n}\n\nexport default Event;","import routes from '../config/routes-helper';\nimport Task from '../components/task-form';\nimport React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport { Button, ButtonGroup } from 'react-bootstrap';\nimport Event from '../components/event';\n\nclass Buttons extends Component {\n\tstate = {\n\t\tisLoading: false,\n\t\terror: null,\n\t\tresp: [],\n\t\ttype: null\n\t}\n\n\tajaxTo = (address, body, method) => {\n\t\tlet myInit = { method: method,\n\t\t\t\t\t\t\t\t\t headers: { 'Content-Type': 'application/json' },\n\t\t\t\t\t\t\t\t\t body: this.getTokensBody(body) }\n\n\t\tconsole.log('request: ', myInit)\n\n\t\tfetch(address, myInit)\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tif (data.access_token) localStorage.setItem('access_token', data.access_token);\n\t\t\t// удалить если все будет работать два дня\n\t\t\t// if (data.error) this.setState({ error: data.error })\n\n\t\t\tReactDOM.render(<Event val={data.error} />, document.getElementById(\"notice\"));\n\n\t\t\tconsole.log('response: ', data)\n\n\t\t  this.refreshTasks();\n\t\t})\n\t\t.catch(error => this.setState({ error }))\n\t}\n\n\tgetTokensBody = (body) => {\n\t\tif (body.grant_type === 'password') {\n\t\t\treturn JSON.stringify(body)\n\t\t} else if (localStorage.getItem('access_token')) {\n\t\t\tbody.access_token = localStorage.getItem('access_token')\n\t\t\treturn JSON.stringify(body)\n\t\t} else {\n\t\t\treturn JSON.stringify({'access_token': localStorage.getItem('access_token')})\n\t\t}\n\t}\n\n\topenNewTaskModal = () => {\n\t\tthis.openTaskInModal(false);\n\t}\n\n\topenTaskInModal = (taskKey) => {\n\t\tthis.hideModal();\n\t\tdocument.getElementById(\"modal\").hidden\t= false;\n\t\tlet container = document.createElement(\"div\");\n\t\tdocument.getElementById(\"modal\").appendChild(container);\n\t\tReactDOM.render(<Task taskKey={taskKey} />, container);\n\t}\n\n\thideModal = () => {\n\t\tif (!document.getElementById(\"modal\").hidden) {\n\t\t\tlet elem = document.getElementById(\"modal\");\n\t\t\t// Выкидывает ошибку при сейве: утечка памяти. Надо исправить.\n\t\t\tif (elem.firstChild) ReactDOM.unmountComponentAtNode(elem.firstChild);\n\t\t\telem.innerHTML = ''; \n\t\t\telem.hidden\t= true;\n\t\t}\n\t}\n\n\tsaveTask = (body) => {\n\t\tthis.ajaxTo(routes.taskCreatePost, {'task': body}, 'POST');\n\t\tthis.hideModal();\n\t}\n\n\tupdateTask = (body) => {\n\t\tthis.ajaxTo(routes.taskUpdatePut + body.id, {'task': body}, 'PUT');\n\t\tthis.hideModal();\n\t}\n\n\tlogin = (body) => {\n\t\tbody.grant_type = 'password';\n\t\tthis.ajaxTo(routes.oauthTokenPOST, body, 'POST');\n\t}\n\n\trefreshTasks = () => {\n\t\tlocalStorage.setItem('taps', +localStorage.getItem('taps') + 1)\n\t}\n\n\tdeleteTask = (params) => {\n\t\tthis.ajaxTo(routes.taskDelete + params, {}, 'DELETE');\n\t\tthis.hideModal();\n\t}\n\n\tgetButton = (type, params) => {\n\t\tswitch (type) {\n\t\t\tcase 'deleteTask':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.deleteTask(params)}>Delete task</Button>\n\t\t\t\t)\n\t\t\tcase 'deleteTask2':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.deleteTask(params)}>&#215;</Button>\n\t\t\t\t)\n\t\t\tcase 'deleteTasks':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => console.log(routes.deleteSelected + params)}>Delete selected</Button>\n\t\t\t\t)\n\t\t\tcase 'editTask':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.openTaskInModal(params)}>Edit</Button>\n\t\t\t\t)\n\t\t\tcase 'createTask':\n\t\t\tcase 'newTask':\n\t\t\t\treturn(\n\t\t\t\t\t<Button bsStyle=\"default\" onClick={() => this.openNewTaskModal()}>New task</Button>\n\t\t\t\t)\n\t\t\tcase 'closeTask':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.hideModal()}>Close</Button>\n\t\t\t\t)\n\t\t\tcase 'saveTask':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.saveTask(params)}>Save</Button>\n\t\t\t\t)\n\t\t\tcase 'updateTask':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.updateTask(params)}>Update</Button>\n\t\t\t\t)\n\t\t\tcase 'signUp':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => console.log('coming soon')}>Sign up</Button>\n\t\t\t\t)\n\t\t\tcase 'signIn':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => this.login(params)}>Sign in</Button>\n\t\t\t\t)\n\t\t\tcase 'logOut':\n\t\t\t\treturn(\n\t\t\t\t\t<Button onClick={() => localStorage.removeItem('access_token')}>Log out</Button>\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\tdocument.getElementById('notice').innerHTML = 'Button is undefined'\n\t\t\t\treturn(null)\n\t\t}\n\t}\n\n\trender() {return(<ButtonGroup bsSize=\"small\">{this.getButton(this.props.type, this.props.params)}</ButtonGroup>)}\n}\n\nexport default Buttons;","import React, {Component} from 'react';\nimport routes from '../config/routes-helper';\nimport Buttons from './buttons';\nimport { ButtonGroup } from 'react-bootstrap';\n\nclass Article extends Component {\n\tstate = {\n\t\tisLoading: false,\n\t\terror: null,\n\t\tisOpen: false,\n\t\ttasks: [],\n\t\ttaps: 0\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.taps !== +localStorage.getItem('taps')) {\n\t\t\tthis.getTasks()\n\t\t\tconsole.log('update!')\n\t\t\tthis.setState({taps: +localStorage.getItem('taps')})\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getTasks();\n\t\tthis.setState({taps: +localStorage.getItem('taps')})\n\t}\n\n\tgetTasks = () => {\n\t\tlet myInit = 'access_token=' + localStorage.getItem('access_token')\n\t\tfetch(routes.tasksGet + '?' + myInit)\n\t\t.then(response => response.json())\n\t\t.then(data => this.setState({tasks: data, isLoading: true}))\n    .catch(error => this.setState({ error }))\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tisOpen: !this.state.isOpen\n\t\t});\n\t}\n\n\tcutDate = (d) => {\n\t\tif (d === null) {\n\t\t\treturn 'free'\n\t\t} else {\n\t\tlet date = d.substr(0,10)\n\t\treturn date\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.isLoading && this.state.tasks.length) {\n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t{this.state.tasks.map((task, i) =>\n\t\t\t\t\t<ul className=\"list-group\" key={i}>\n\t\t\t\t\t\t<li className=\"list-group-item list-group-item-success mr-2\">\n\t\t\t\t\t\t\t<div className=\"float-left\">\n\t\t\t\t\t\t\t\t<b>{task.title}</b><br/>\n\t\t\t\t\t\t\t\t{task.theme}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"text-right float-right\">\n\t\t\t\t\t\t\t\t<div className=\"d-inline\">Due date: {this.cutDate(task.due_date)} </div>\n\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t<Buttons type='editTask' params={i}/>\n\t\t\t\t\t\t\t\t\t<Buttons type='deleteTask2' params={task.id}/>\n\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}</div>\n\t\t\t)\n\t\t} \n\t\tif (this.state.isLoading && !this.state.tasks.length) {\n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t\t<p>Creare you first task</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\tif (this.state.error) {\n\t\t\tdocument.getElementById('notice').innerHTML = this.state.error.toString()\n\t\t\treturn(null)\n\t\t} else {\n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t\t<p>Wait</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\t\t\n\t}\n}\n\nexport default Article;","import React from 'react';\n\nfunction Clock(props) {\n  return (\n      <h2 className=\"mr-2\" id='clock'>Now is {new Date().toLocaleTimeString() + \" \" + new Date().toLocaleDateString()}</h2>\n  );\n}\n\nexport default Clock;","import React, {Component} from 'react';\nimport Buttons from './buttons';\nimport { Form, FormGroup, ControlLabel, FormControl, Jumbotron } from 'react-bootstrap';\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\terror: null,\n\t\t\ttasks: [],\n\t\t\tvalue: {\n\t\t\t\temail: '',\n\t\t\t\tpassword: '',\n\t\t\t}\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleChange(event) {\n\t\tlet val = event.target.value\n\t\tthis.setState({ value: { ...this.state.value, [event.target.name]:  val} });\n\t}\n\n\trender() {\n\t\tif (this.state.isLoading) {\n\t\t\treturn(\n\t\t\t\t<div>\n\t\t\t\t<Jumbotron>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<FormGroup controlId=\"formInlineName\">\n\t\t\t\t\t\t\t<ControlLabel>Email</ControlLabel>\n\t\t\t\t\t\t\t<FormControl bsSize=\"small\" type=\"text\" name=\"email\" placeholder=\"email\" onChange={this.handleChange}/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup controlId=\"formInlineEmail\">\n\t\t\t\t\t\t\t<ControlLabel>Password</ControlLabel>\n\t\t\t\t\t\t\t<FormControl bsSize=\"small\" name=\"password\" type='password' placeholder=\"password\" onChange={this.handleChange}/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<Buttons type='signIn' params={this.state.value}/>\t\t\t\t\n\t\t\t\t\t\t<Buttons type='signUp'/>\n\t\t\t\t\t</Form>\n\t\t\t\t\t</Jumbotron>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\tif (this.state.error) {\n\t\t\tdocument.getElementById('notice').innerHTML = this.state.error.toString()\n\t\t\treturn(null)\n\t\t}\n\t}\n}\n\nexport default Login;","import React from 'react';\nimport ReactDom from 'react-dom';\nimport ViewTasks from './components/view-tasks';\nimport Buttons from './components/buttons';\nimport Clock from './components/clock';\nimport Login from './components/login';\nimport { ButtonGroup } from 'react-bootstrap';\nimport './index.css';\n\n{\n\tdocument.getElementById(\"modal\").hidden\t= true\n}\n\nfunction Main() {\n\tif (localStorage.access_token) {\n\t\treturn (\n\t\t\t<div className=\"mb-2 ml-2\">\n\t\t\t\t<h1 id='site_name'>Task list</h1> <Clock />\n\t\t\t\t<div className=\"mb-2\">\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Buttons type='createTask'/>\n\t\t\t\t\t\t<Buttons type='deleteTasks'/>\n\t\t\t\t\t\t<Buttons type='logOut'/>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t\t<ViewTasks />\n\t\t\t</div>\n\t\t)\n\t} else {\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h1 id='site_name'>Task list</h1> <Clock />\n\t\t\t\t<Login />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction tick() {\n\tReactDom.render(<Main/>, document.getElementById('root'));\n}\n\nsetInterval(tick, 500);\n\n// ReactDom.render(<Main/>, document.getElementById('root'));"],"sourceRoot":""}